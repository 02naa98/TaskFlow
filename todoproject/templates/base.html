{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{%block title%}あ{%endblock%}</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<!--ここは共通のレイアウトをまとめるhtml-->
<body>
    <style>
    .header {
    display: flex;
    align-items: center;
    }

    .header h1 {
        margin: 0;
        font-size: 40px; /* h1のフォントサイズ */
        margin-left: 7px; /* テキストと画像の間に空白を追加 */
        margin-right: 7px; /* テキストと詳細の間に空白を追加 */
    }

    .header img {
        height: 40px; /* h1のフォントサイズと合わせる */
        width: auto;  /* 縦横比を保持 */
        vertical-align: middle;
    }

    /* モーダルのスタイル */
    .modal {
        display: none; /* デフォルトで非表示 */
        position: fixed; /* 固定表示 */
        z-index: 1; /* 上に表示 */
        padding-top: 100px; /* 上に余白 */
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto; /* スクロール可能 */
        background-color: rgba(0, 0, 0, 0.8); /* 背景を少し暗く */
    }

    .modal-content {
        margin: auto;
        display: block;
        width: 80%; /* モーダルの画像の幅 */
        max-width: 700px; /* 最大幅 */
    }

    #caption {
        text-align: center;
        color: #fff;
        padding: 10px;
    }

    /* 閉じるボタン */
    .close {
        position: absolute;
        top: 15px;
        right: 35px;
        color: #fff;
        font-size: 40px;
        font-weight: bold;
        cursor: pointer;
    }

    .close:hover,
    .close:focus {
        color: #bbb;
        text-decoration: none;
        cursor: pointer;
    }

    .description {
        font-size: 16px;
        line-height: 1.6;
        margin-top: 0;
        margin-bottom: 0;   /* pタグの下の余白をなくす */
        padding-top: 5px;   /* 上に少し余白を追加 */
    }

    </style>

    <div class="header">
        <a href="javascript:void(0);" onclick="openModal();"></a>
            <img src="{% static 'images/logo - コピー.png' %}" alt="Sample Logo" class="clickable-image" id="image-1">
        </a>
        <h1>TaskFlow</h1>
        <p class="description">TaskFlowの詳細については、
            <a href="https://github.com/02naa98/TaskFlow/blob/5c21718b4c6a0ca746376e708a8c205c8d710d94/README.md" target="_blank">[こちらのGitHubリポジトリ]</a>
            を参照してください。</p>
    </div>
        <!-- ポップアップ用のモーダル -->
        <div id="imageModal" class="modal">
            <span class="close" id="closeModal">&times;</span>
            <img class="modal-content" id="modalImage">
            <div id="caption"></div>
        </div>
    <br>
        <nav>
            <ul>
                <nav>
                    <ul>
                        {% if request.user.is_authenticated %}
                            <li>
                                <form action="{% url 'logout' %}" method="post">
                                    {% csrf_token %}
                                    <p>現在
                                        <a href="{%url 'temporary_profile' user.username%}">{{ user.username }}</a>
                                        さんがログイン中
                                    </p>
                                    <button type="submit" class="btn btn-primary">ログアウト</button>
                                </form>
                            </li>
                        {% endif %}
                    </ul>
                </nav>

            </ul>
        </nav>

    <main>
        {% block content %}
        {% endblock %}
    </main>

    <footer>
        <p>&copy; 2024 TaskFlow</p>
    </footer>

    <script>
        // モーダル関連の要素
        var modal = document.getElementById("imageModal");
        var modalImg = document.getElementById("modalImage");
        var captionText = document.getElementById("caption");
        var closeModal = document.getElementById("closeModal");

        // 画像をクリックしたときにモーダルを表示
        document.getElementById("image-1").onclick = function(){
            modal.style.display = "block";
            modalImg.src = this.src;  // クリックした画像のsrcをモーダル内に表示
            captionText.innerHTML = this.alt;  // 画像のaltテキストをキャプションとして表示
        }

        // モーダルを閉じる
        closeModal.onclick = function() {
            modal.style.display = "none";
        }

        // モーダルの外をクリックした場合にも閉じる
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>
</body>
</html>
